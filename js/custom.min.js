jQuery(document).ready(function(n){var e=function(){n(".projects-slider__wrap").slick({slidesToShow:1.5,infinite:!1,prevArrow:'<button type="button" class="slick-prev">Prev</button>',nextArrow:'<button type="button" class="slick-next">Next</button>',responsive:[{breakpoint:768,settings:{slidesToShow:1.025}}]})},t=function(){n(".pb-image-slider__items").slick({slidesToShow:1.4,infinite:!1,dots:!1,prevArrow:n(".pb-image-slider__prev"),nextArrow:n(".pb-image-slider__next"),responsive:[{breakpoint:768,settings:{slidesToShow:1.1}}]})},i=function(){if(n(".force-fullwidth").length){var e=n(".force-fullwidth").offset().left,t=n(window).width();n(".force-fullwidth").css("width",t-e)}},a={prev:0,top:0,headerHeight:n(".site-header").height(),init:function(){a.top=n(window).scrollTop(),a.top>a.prev?(n("body").addClass("has-sticky-header"),a.top>=2*a.headerHeight&&(n(".site-header").addClass("stick"),n(".site-header").addClass("stuck"))):0<a.top?(n(".site-header").addClass("top-trans"),n(".site-header").removeClass("stick")):(n(".site-header").removeClass("top-trans"),n(".site-header").removeClass("stuck")),a.prev=a.top}},s=function(){n(".nav-previous a").on("click",function(e){e.preventDefault();var s=n(this),r=s.text(),t=s.attr("href");s.text("Loading..."),n.ajax({url:t}).done(function(e){var t=n(e).find(".pb-articles__items").html(),i=!1,a="#";n(e).find(".nav-previous").length<=0?i=!0:a=n(e).find(".nav-previous a").attr("href"),n(".pb-articles__items").append(t),i?s.remove():(s.text(r),s.attr("href",a))})})},r=function(){n(document).on("click",".project-btn",function(e){e.preventDefault();var s=n(this);s.text();s.text("Loading..."),n.ajax({url:s.data("url"),type:"POST",data:{page:s.data("page"),exclude:s.data("exclude")},success:function(e){var t=n(e),i=t.find(".items"),a=t.find(".nav");0<i.length&&s.closest(".pb-projects-grid").find(".projects-grid__wrap").append(i.html()),0<a.length?s.replaceWith(a.find("a")):s.remove()}})})},o=function(){n(".menu-toggle").on("click",function(){n(this).hasClass("is-active")?!1===n(".site-header").hasClass("dbrain-header-light")&&n(".site-header").removeClass("header-default").addClass("header-light"):!1===n(".site-header").hasClass("dbrain-header-light")&&n(".site-header").removeClass("header-light").addClass("header-default")})},d=function(){n("body").on("click","[data-href]",function(){window.location.href=n(this).attr("data-href")})};e(),a.init(),t(),i(),s(),r(),o(),d(),n(window).on("scroll",function(){a.init()})});